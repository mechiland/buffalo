<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>test view</title>
<link rel="stylesheet" href="../lib/test.css" type="text/css" />
<script language="javascript" src="../lib/prototype.js"></script>
<script language="javascript" src="../lib/unittest.js"></script>
<script language="javascript" src="../../main/base.js"></script>
<script language="javascript" src="../../main/view.js"></script>
</head>

<body>
<h1>Test for View</h1>
<div id="testlog"> </div>

<div id="changeme">orginal text</div>
<script type="text/javascript" language="javascript" charset="utf-8">
var testCase = new Test.Unit.Runner({
	testShouldNotUseTheSameBuffaloTransporter: function() {with(this){
    var buffalo = new Buffalo("mock/bfapp");
    var view = new Buffalo.View(buffalo);
    var orginalTransport = buffalo.transport;
    view.switchPart('changeme', 'dump.html', false);
	assertIdentical(orginalTransport, buffalo.transport);
	wait(500, function(){
		assertEqual("Dump Text", $("changeme").innerHTML);		
	});
  }}
}, "testlog");
</script>
</body>
</html>
