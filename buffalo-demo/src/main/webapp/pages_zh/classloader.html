<script language="javascript">

var buffalo = new Buffalo(endPoint);

var isIE = true;
var req;
var names;
var target;


function getElementY(element){
	var targetTop = 0;
	if (element.offsetParent) {
		while (element.offsetParent) {
			targetTop += element.offsetTop;
            element = element.offsetParent;
		}
	} else if (element.y) {
		targetTop += element.y;
    }
	return targetTop;
}

function getElementX(element){
	var targetLeft = 0;
	if (element.offsetParent) {
		while (element.offsetParent) {
			targetLeft += element.offsetLeft;
            element = element.offsetParent;
		}
	} else if (element.y) {
		targetLeft += element.x;
    }
	return targetLeft;
}

function init() {
    target = document.getElementById("complete-field");
    var menu = document.getElementById("complete-field");
    var autorow = document.getElementById("menu-popup");
    autorow.style.top = getElementY(menu)+20 + "px";
	autorow.style.left=getElementX(menu)+"px";
    
}

function doCompletion() {
	buffalo.remoteCall("ajaxService.filterJavaAPI", [target.value, 50], function(reply) {
		var result = reply.getResult();
		$("replyContent").value = "";
		for (var i=0; i < result.length; i++) {
			$("replyContent").value += result[i]+"\n";
		}
	})
}

init()
</script>
 

 </p>
 
  <form name="autofillform" action="#" method="get">
   <input type="hidden" name="action" value="lookupbyname"/>
   <table border="0" cellpadding="5" cellspacing="0">
    <tr>
     <td><b>Employee Name:</b></td>
     <td>
      <input    type="text"
                size="20"  
                  id="complete-field"
				name="id"
             onkeyup="doCompletion();">
     </td>
     <td align="left">
      <input id="submit_btn" type="Submit" value="Lookup Employee">
     </td>
    </tr>
    <tr><td id="auto-row" colspan="2">&nbsp;<td/></tr>
   </table>
  </form>
<div style="position: absolute; top:170px;left:140px" id="menu-popup">
<textarea name="" rows="10" cols="60" id="replyContent"></textarea>
</div>
